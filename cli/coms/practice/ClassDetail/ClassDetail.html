<script src="./ClassDetail.js"></script>

<template>
    <div sid='ClassDetail' :xid='xid' style="width:100%" class='ttClassDetail'>
        <el-row type="flex" justify="center" style='margin-top:12px'>
            <el-col class='nav' :span="20" :sm="16">
                <span class="link" @click='goBack'><i class="fa fa-caret-left"></i> 返回</span>
                <span> / </span>
                <span class="link" @click='goHome'>我的首页</span>
                <span> / </span>
                <span>班级详情</span>
            </el-col>
        </el-row>
        <el-row type="flex" justify="center">
            <el-col class='nav' :span="20" :sm="16">
                <h2 style="margin:8px 0">{{groupInfo.name}}</h2>
            </el-col>
        </el-row>
        <el-row v-if='groupInfo.name' id='main' type="flex" justify="center" style='margin-top:12px'>
            <el-col :span="20" :sm="16">
                <el-tabs v-model="activeName" @tab-click="xgoTab()" style='width:100%'>
                    <el-tab-pane label="实训方案" name="practice">
                        <el-button v-if='false' type='primary' style='width:160px'> <i class='fa fa-plus' style="margin-right:12px"></i> 新 实 训</el-button>
                        <el-row v-for='(p,n) in groupInfo.plans' style='margin:12px 0'>
                            <component is="practiceCard" :fill='p' :index='n'></component>
                        </el-row>
                    </el-tab-pane>
                    <el-tab-pane label="班级成员" name="member">
                        <el-button v-if='false' type='primary' style='width:160px'> <i class='fa fa-plus' style="margin-right:12px"></i> 新 成 员</el-button>
                        <el-row v-if='groupInfo.manager'>
                            <div class="roletag">管理员</div>
                            <component is="userCard" :fill='groupInfo.manager'></component>
                        </el-row>
                        <div style='height:12px'></div>
                        <el-row v-if='groupInfo.teachers.length>0' v-for='u in groupInfo.teachers'>
                            <div class="roletag">导师</div>
                            <component is="userCard" :fill='u'></component>
                        </el-row>
                        <div style='height:12px'></div>
                        <el-row v-if='groupInfo.assistants.length>0' v-for='u in groupInfo.assistants'>
                            <div class="roletag">助理</div>
                            <component is="userCard" :fill='u'></component>
                        </el-row>

                        <div style='height:12px'></div>
                        <el-row v-for='(p,n) in fill.members' style='margin:12px 0'>
                            <component is="userCard" :fill='p' :index='n'></component>
                        </el-row>
                        <div style='height:12px'></div>
                    </el-tab-pane>
                    <el-tab-pane label="班级信息" name="info">
                        <div class="txtrow">
                            <div class="infotitle">班级介绍</div>
                            <div>{{groupInfo.desc}}</div>
                        </div>

                        <div class="txtrow">
                            <div class="infotitle">所属院校</div>
                            <div>{{groupInfo.school.name}}</div>
                        </div>

                        <div class="txtrow">
                            <div class="infotitle">成员总数</div>
                            <div>{{groupInfo.members.length}}</div>
                        </div>

                        <div class="txtrow">
                            <div class="infotitle">实训总数</div>
                            <div>{{groupInfo.plans.length}}</div>
                        </div>

                        <div class="txtrow">
                            <div class="infotitle">创建时间</div>
                            <div>{{groupInfo.created_at.substr(0,10)}}</div>
                        </div>

                    </el-tab-pane>
                </el-tabs>
            </el-col>
        </el-row>
        <div style="height:120px"></div>
    </div>
</template>


<style scoped>
    .roletag {
        font-size: 13px;
        color: #888;
    }

    .txtbtn {
        cursor: pointer;
        margin: 4px;
        user-select: none;
    }

    .desc {
        margin: 0 0 24px 0;
        font-size: 14px;
        padding: 0;
    }

    .infotitle {
        color: #888;
        font-weight: 300;
        margin: 8px 0;
        font-size: 14px;
        padding: 0;
    }

    .nav {
        color: #1cbbb4;
        font-size: 13px;
    }

    .nav .link {
        cursor: pointer;
    }

    .nav .link:hover {
        color: #178984;
    }

    #profile .txtrow {
        text-align: left;
        width: 100%;
        height: 36px;
        font-size: 14px;
    }

    .txtrow div:first-child {
        color: #888;
        font-weight: 100;
        width: 80px;
        text-align: left;
        display: inline-block;
        margin-right: 1%;
    }

    .txtrow div:last-child {
        font-weight: bold;
        width: 49%;
        text-align: left;
        display: inline-block;
    }

    .avatar {
        width: 128px;
        height: 128px;
        border-radius: 128px;
        border: 1px solid #AAA;
    }

    .el-tabs__content {
        overflow: visible
    }

    .el-col {
        border-radius: 4px;
    }

    .bg-purple-dark {
        background: #99a9bf;
    }

    .bg-purple {
        background: #d3dce6;
    }

    .bg-purple-light {
        background: #e5e9f2;
    }

    .grid-content {
        border-radius: 4px;
        min-height: 36px;
    }

</style>



<style>
    .ttClassDetail {
        letter-spacing: 0.2px;
    }

</style>
